<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生成器函数实例</title>
</head>
<body>
    <script>
        /*回调地狱
        setTimeout(() => {
            console.log(111);
            setTimeout(() => {
                console.log(222);
                setTimeout(() => {
                    console.log(333);
                }, 3000);  
            }, 2000);
        }, 1000);
        */
    //    function one(){
    //        setTimeout(() => {
    //             console.log(111);
    //             iter.next();
    //        }, 1000);
           
    //    }
    //    function two(){
    //         setTimeout(() => {
    //             console.log(222);
    //             iter.next();
    //        }, 2000);
    //    }
    //    function three(){
    //         setTimeout(() => {
    //             console.log(333);
    //        }, 3000);
    //    }
    //    function *gen(){
    //        yield one();
    //        yield two();
    //        yield three();
    //    }

    //    let iter = gen();
    //    iter.next();

       //模拟操作，获取用户->获取订单->获取商品
       function getUser(){
           setTimeout(() => {
               let data = '用户';
               iter1.next(data);
           }, 1000);
       }
       function getOrder(){
           setTimeout(() => {
               let data = '订单';
               iter1.next(data);
           }, 1000);
       }
       function getGood(){
           setTimeout(() => {
               let data = '商品';
               iter1.next(data);
           }, 1000);
       }

       function *gen(){
           let user = yield getUser();
           console.log(user);
           let order = yield getOrder();
           console.log(order);
           let good = yield getGood();
           console.log(good);
       }

       let iter1 = gen();
       iter1.next();
    </script>
</body>
</html>